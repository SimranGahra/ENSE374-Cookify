<%- include("layouts/header") -%>
<%- include("layouts/navbar") -%>

<!-- Main Section -->
<div class="container-fluid bg-light text-dark" style="height: calc(100vh - 56px); background: url('/path/to/cooking-background.jpg') center/cover no-repeat;">
  <div class="container d-flex justify-content-center align-items-center text-center h-100">
    <div class="w-100">
      <!-- Title Section -->
      <h1 class="display-4 mb-4" style="font-family: 'Poppins', sans-serif; font-weight: 700;">What's cooking?</h1>

      <!-- Search Form -->
      <form id="searchForm" action="/generate-recipe" method="post" class="d-flex flex-column align-items-center">
        <!-- Ingredients Input -->
        <div class="input-group mb-4 w-75 shadow-lg" style="border-radius: 30px; overflow: hidden; max-width: 1000px;">
          <input
            name="Ingredients"
            type="text"
            class="form-control form-control-lg"
            placeholder="Enter ingredients, separated by commas (e.g., beef, rice, broccoli)"
            aria-label="Enter Ingredients"
            aria-describedby="button-addon"
            style="border: none; padding: 15px;"
          >
          <button class="btn btn-light px-4 search-btn" type="submit" id="button-addon" style="font-weight: bold;">Search</button>
        </div>

        <!-- Dropdown Section -->
        <div class="d-flex justify-content-center align-items-center gap-4 mt-3">
          <!-- Time Dropdown -->
          <div class="dropdown-center">
            <button id="timeDropdown" class="btn btn-light px-4 py-2 dropdown-toggle search-btn border rounded-pill shadow-lg" type="button" data-bs-toggle="dropdown" aria-expanded="false">
              Select Time
            </button>
            <ul class="dropdown-menu shadow" style="border-radius: 20px; overflow: hidden;">
              <li><button class="dropdown-item" type="button" value="15">15 minutes</button></li>
              <li><button class="dropdown-item" type="button" value="30">30 minutes</button></li>
              <li><button class="dropdown-item" type="button" value="45">45 minutes</button></li>
              <li><button class="dropdown-item" type="button" value="60">60 minutes</button></li>
              <li><button class="dropdown-item" type="button" value="120">120 minutes</button></li>
            </ul>
          </div>

          <!-- Dietary Preference Dropdown -->
          <div class="dropdown-center">
            <button id="dietaryDropdown" class="btn btn-light px-4 py-2 dropdown-toggle search-btn border rounded-pill shadow-lg" type="button" data-bs-toggle="dropdown" aria-expanded="false">
              Select Dietary Preference
            </button>
            <ul class="dropdown-menu shadow" style="border-radius: 20px; overflow: hidden;">
              <li><button class="dropdown-item" type="button" value="Vegetarian">Vegetarian</button></li>
              <li><button class="dropdown-item" type="button" value="Vegan">Vegan</button></li>
              <li><button class="dropdown-item" type="button" value="Gluten-Free">Gluten-Free</button></li>
              <li><button class="dropdown-item" type="button" value="None">No Preference</button></li>
            </ul>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>

<script>
  // Dropdown logic to update button text dynamically
  document.querySelectorAll('.dropdown-center').forEach(dropdown => {
    dropdown.querySelectorAll('.dropdown-item').forEach(item => {
      item.addEventListener('click', function () {
        const button = dropdown.querySelector('.dropdown-toggle');
        button.textContent = this.textContent;
        button.value = this.getAttribute('value');
      });
    });
  });
</script>

<%- include("layouts/footer") -%>
