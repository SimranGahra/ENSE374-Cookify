<%- include("layouts/header") -%>
<%- include("layouts/navbar") -%>

  <!-- Centered search bar -->
  <div class="container d-flex justify-content-center align-items-center text-center" style="height: calc(100vh - 56px);">
    <div class="w-100">
      <h1 class="display-4 mb-4">What's cooking?</h1>
      <br>

      <!-- Search Form -->
      <form id="searchForm" action="/search-result" method="post" class="d-flex flex-column align-items-center">
        <!-- Ingredients Input -->
        <div class="input-group mb-3 w-100">
          <input name="Ingredients" type="text" class="form-control form-control-lg" placeholder="Enter ingredients, separated by commas (e.g., beef, rice, broccoli)" aria-label="Enter Ingredients" aria-describedby="button-addon">
          <button class="btn btn-outline-secondary" type="submit" id="button-addon">Search</button>
        </div>

    <!-- Dropdown Section -->
    <div class="d-flex justify-content-center align-items-center gap-4">
      <!-- Time Dropdown -->
      <div class="dropdown">
        <button id="timeDropdown" class="btn btn-light border rounded px-4 py-2 dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
          Select Time
        </button>
        <ul class="dropdown-menu shadow">
          <li><button class="dropdown-item" type="button" value="15">15 minutes</button></li>
          <li><button class="dropdown-item" type="button" value="30">30 minutes</button></li>
          <li><button class="dropdown-item" type="button" value="45">45 minutes</button></li>
          <li><button class="dropdown-item" type="button" value="60">60 minutes</button></li>
          <li><button class="dropdown-item" type="button" value="120">120 minutes</button></li>
        </ul>
      </div>

      <!-- Dietary Preference Dropdown -->
      <div class="dropdown">
        <button id="dietaryDropdown" class="btn btn-light border rounded px-4 py-2 dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
          Select Dietary Preference
        </button>
        <ul class="dropdown-menu shadow">
          <li><button class="dropdown-item" type="button" value="Vegetarian">Vegetarian</button></li>
          <li><button class="dropdown-item" type="button" value="Vegan">Vegan</button></li>
          <li><button class="dropdown-item" type="button" value="Gluten-Free">Gluten-Free</button></li>
          <li><button class="dropdown-item" type="button" value="None">No Preference</button></li>
        </ul>
      </div>
    </div>
  </form>
</div>

<script>
  // Dropdown logic to update button text dynamically
  document.querySelectorAll('.dropdown').forEach(dropdown => {
    dropdown.querySelectorAll('.dropdown-item').forEach(item => {
      item.addEventListener('click', function () {
        const button = dropdown.querySelector('.dropdown-toggle');
        button.textContent = this.textContent;
        button.value = this.getAttribute('value');
      });
    });
  });
</script>

<%- include("layouts/footer") -%>
